<script>
// ===== Delay Control Settings =====
// 0   = Disable delay, show all content immediately
// 0.5 = Delay time is set to half of the estimated duration
var delayFactor = 1;
</script>

<!-- 翻译设置：修改 translation-mode-0 中的数字
     0 = 不显示翻译
     1 = 显示中文翻译
-->
<div class="box translation-mode-1">
  <div class="top-fixed">
    <div class="word">{{Word}}&#8203;</div>
    <div class="phonetic delayed-content">{{IPA}}</div>
    <hr class="divider delayed-content">
  </div>

  <div class="middle-content delayed-content">
    <div class="example">
      <div class="static-text">{{Example}}</div>
      <details class="translation-zh">
        <summary>{{Example}}</summary>
        <div class="translation">{{ExampleZH}}</div>
      </details>
    </div>
    <div class="definition">
      <div class="static-text">{{Meaning}}</div>
      <details class="translation-zh">
        <summary>{{Meaning}}</summary>
        <div class="translation">{{MeaningZH}}</div>
      </details>
    </div>
  </div>
  <div class="image-container delayed-content">
    {{Image}}
  </div>
  <div class="sound">{{Sound}} {{Sound_Example}}</div>
</div>

<style>
.delayed-content {
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
}

.show-delayed-content .delayed-content {
  opacity: 1;
}
</style>

<script>
(function() {
  var soundDurText = '{{Sound_Dur}}';
  var soundExampleDurText = '{{Sound_Example_Dur}}';
  var soundDur = parseFloat(soundDurText) || 0;
  var soundExampleDur = parseFloat(soundExampleDurText) || 0;
  var totalDelay = (soundDur + soundExampleDur) * delayFactor;
  
  var box = document.querySelector('.box');
  
  if (totalDelay > 0) {
    setTimeout(function() {
      if (box) {
        box.classList.add('show-delayed-content');
      }
    }, totalDelay * 1000);
  } else {
    if (box) {
      box.classList.add('show-delayed-content');
    }
  }
})();
</script>

